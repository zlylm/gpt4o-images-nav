import{cE as v,q as c}from"./index-vQ7QYx1H.js";const g=v("project",()=>{const o=c([]),i=c(null),s=c([]),l=c({projectCount:0,deviceCount:0,loadCount:0,alarmCount:0}),u=async()=>{const e=[{id:1,name:"城市中心区路灯项目",deviceCount:156,onlineRate:98.5,location:{lat:39.9042,lng:116.4074},status:"online"},{id:2,name:"工业园区照明项目",deviceCount:89,onlineRate:95.2,location:{lat:39.9142,lng:116.4174},status:"online"},{id:3,name:"住宅区路灯项目",deviceCount:234,onlineRate:97.8,location:{lat:39.8942,lng:116.3974},status:"warning"},{id:4,name:"商业街照明项目",deviceCount:67,onlineRate:100,location:{lat:39.9242,lng:116.4274},status:"online"}];o.value=e,d()},h=async e=>{const t=o.value.find(a=>a.id===parseInt(e));i.value=t;const n=m((t==null?void 0:t.deviceCount)||50);return s.value=n,t},m=e=>{const t=[],n=["online","offline","warning","error"],a=["LED路灯","太阳能路灯","智能路灯"];for(let r=1;r<=e;r++)t.push({id:r,name:`设备${String(r).padStart(3,"0")}`,type:a[Math.floor(Math.random()*a.length)],status:n[Math.floor(Math.random()*n.length)],location:{lat:39.9042+(Math.random()-.5)*.1,lng:116.4074+(Math.random()-.5)*.1},voltage:(220+Math.random()*20).toFixed(1),current:(Math.random()*5).toFixed(2),power:(Math.random()*100).toFixed(1),temperature:(25+Math.random()*15).toFixed(1),brightness:Math.floor(Math.random()*100),lastUpdate:new Date(Date.now()-Math.random()*36e5).toISOString()});return t},d=()=>{l.value={projectCount:o.value.length,deviceCount:o.value.reduce((e,t)=>e+t.deviceCount,0),loadCount:Math.floor(o.value.reduce((e,t)=>e+t.deviceCount,0)*.8),alarmCount:Math.floor(Math.random()*20)}};return{projects:o,currentProject:i,devices:s,statistics:l,fetchProjects:u,fetchProjectDetail:h,updateStatistics:d}});export{g as u};
